<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Authentification sécurisée Anti Key-Logger</title>
<meta name="description" content="Identification grâce à une paire Identifiant et mot de passe construit au Clic" />
<meta name="robots" content="index,follow" />
<meta http-equiv="content-language" content="fr" />
<link href='styles/mef.css' rel='stylesheet' type='text/css' />
<script language="Javascript" src="js/paire_id.js"></script>
</head>
<body>
	<div class="div_conteneur_parent">
		<div class="div_conteneur_page">
			<a href="http://www.bonbache.fr/" target="_self">
			<img src="images/le_formateur.png" style="width:50px;border:none;" align="left" alt="formateur informatique" />
			</a>		
			<div class="titre_page"><h1>Authentification sécurisée Anti-KeyLogger</h1></div>
			<div class="div_int_page">
			<div style="width:100%;display:block;text-align:center;">
			</div>
			<div class="div_saut_ligne" style="height:30px;">
			</div>						
			<div style="float:left;width:10%;height:40px;"></div>
			<div style="float:left;width:80%;height:40px;text-align:center;">
			<div style="width:auto;display:block;height:auto;text-align:center;background-color:#ccccff;border:#7030a0 1px solid;padding-top:12px;box-shadow: 6px 6px 0px #aaa;color:#7030a0;">
			<h1>Identification sans saisir le mot de passe</h1>
			</div>
			</div>	
			<div style="float:left;width:10%;height:40px;"></div>
			<div class="div_saut_ligne">
			</div>		
			<div style="width:100%;height:auto;text-align:center;">	
			<div style="width:800px;display:inline-block;" id="conteneur">
				<div class="centre">
					<div class="titre_centre" id="titre" style="text-align:left;padding-left:10px;">
					Veuillez saisir votre identifiant et cliquer sur les chiffres du PAD pour le mot de passe.
					</div>	
				</div>
				<div class="colonne" id="liste">
					<div id="grille">
					<div class="case" id="case0"></div>
					<div class="case" id="case1"></div>
					<div class="case" id="case2"></div>
					<div class="case" id="case3"></div>
					
					<div class="case" id="case4"></div>
					<div class="case" id="case5"></div>
					<div class="case" id="case6"></div>
					<div class="case" id="case7"></div>
					
					<div class="case" id="case8"></div>
					<div class="case" id="case9"></div>
					<div class="case" id="case10"></div>
					<div class="case" id="case11"></div>
					
					<div class="case" id="case12"></div>
					<div class="case" id="case13"></div>
					<div class="case" id="case14"></div>
					<div class="case" id="case15"></div>
					</div>
					<input type="text" id="identifiant" maxlength="10" value="Votre identifiant" onClick="init_saisie('1')" onMouseOut="init_saisie('2')" />
					<input type="password" id="motPasse" maxlength="6" value=""  readOnly  />
					<input type="button" class="bouton" value="Valider" />
					<input type="button" class="bouton" value="Generer" /><br />
					<span style="font-size:14px;font-weight:normal;">Paire à reproduire : <strong>bonbache|622551</strong></span>
				</div>
				<div class="centre">
					<div class="titre_centre" id="apercu">
					
					</div>	
				</div>					
			</div>
			</div>
			<div class="div_saut_ligne" style="height:50px;">
			</div>	
			
			</div>
		</div>
	</div>
</body>

<script type="text/javascript" language="javascript">

	generation();
    
    function generation(){
        let nbRandom; // Stock le nombre aléatoire à chaque passage de la boucle 
        let test = true; // Vérifie si le nb aléa a déja été généré TRUE par défaut -> force une nouvelle génération.
        let chaine = ""; // stockage des nb aléatoire déja généré.

        purger();

        for (let i=0; i=10; i++){ // Boucle dix fois
           while(test == true){ // Si le nombre a déja été utilisé
                nbRandom = Math.floor(Math.random() * 16); // Génère un nb aléatoire entre 0 et 16
                if(chaine.indexOf("-" + nbRandom + "-")> -1){ // Cherche dans la chaine si le nombre existe ?? pourquoi pas tableau ??
                    nbRandom = Math.floor(Math.random() * 16); // Si n'existe pas générer un nombre
                }else{ // sinon -1
                    // Génère un bouton -> au click inscrit la valeur du bouton dans l'input pass
                    document.getElementById('case' + nbRandom).innerHTML = "<input type='nutton' class='btn' value='" + i + "'onClick='document.getElementById(\"motPasse\").value +=" + i + "' />";
                    test = false;
                    chaine += "-" + nbRandom + "-"; // Enregistre le nb dans la chaine de teste
                }
           } 
           test = false;
        }

    }

    function purger(){ // Reinitialisation - annule et relance une nouvelle génération
        for (let i=0; i<16; i++) { // chaque passage de la boucle le calque selectionné doit etre reinitialisé
            document.getElementById('case' + i).innerHTML = ""; // Vide les cartes
        }

        document.getElementById('identifiant').value = "Votre identifiant"; // Réinitialise l'input id
        document.getElementById('motPasse').value = ""; // Vide l'input pass
    }





	function init_saisie(mode)
	{
		if(mode == "1" && document.getElementById("identifiant").value == "Votre identifiant")
			document.getElementById("identifiant").value = "";
		else if(document.getElementById("identifiant").value == "")
			document.getElementById("identifiant").value = "Votre identifiant";
	}
	
</script>
</html>
	